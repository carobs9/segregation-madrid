2024-12-13 11:40:44,005 - my_logger - INFO - I calculate 10 income deciles for different income data in the city of Madrid
2024-12-13 11:40:44,005 - my_logger - INFO - Timeframe: March 2022
2024-12-13 11:40:44,005 - my_logger - INFO - I build assortativity matrices for the Gini Index
2024-12-13 11:40:44,005 - my_logger - INFO - The variables for which income deciles are calculared are: ['Gini Index', 'Average income per consumption unit', 'Median income per consumption unit', 'Average gross income per household', 'Average gross income per person', 'Average net income per household', 'Average net income per person']
2024-12-13 11:40:44,005 - my_logger - INFO - Save figures = True
2024-12-13 11:40:44,005 - my_logger - INFO - Figures path: /Users/caro/Desktop/segregation-madrid/segregation_indices/figures/month
2024-12-13 11:40:44,005 - my_logger - INFO - Opening data...
2024-12-13 11:41:06,154 - my_logger - INFO - Dataframes used: /Users/caro/Desktop/segregation-madrid/segregation_indices/data/processed/geometries_and_income.geojson and /Users/caro/Desktop/segregation-madrid/mobility_data/VIAJES/all_viajes_month_0322.csv
2024-12-13 11:41:06,155 - my_logger - INFO - Shape of the rent dataset: (21, 9)
2024-12-13 11:41:06,155 - my_logger - INFO - Shape of the mobility dataset: (4839108, 15)
2024-12-13 11:41:06,155 - my_logger - INFO - 1. Merging mobility and income data
2024-12-13 11:41:06,721 - my_logger - INFO - Variable to calculate matrices on is set to: Gini Index
2024-12-13 11:41:06,721 - my_logger - INFO - 2. Calculating 10 income deciles for the Gini Index data.
2024-12-13 11:41:08,774 - my_logger - INFO - Plotting income deciles
2024-12-13 11:41:09,111 - my_logger - INFO - Plot saved at: /Users/caro/Desktop/segregation-madrid/segregation_indices/figures/month/gini index_deciles_distribution_destination.png
2024-12-13 11:41:09,111 - my_logger - INFO - Income deciles for ['Gini Index', 'Average income per consumption unit', 'Median income per consumption unit', 'Average gross income per household', 'Average gross income per person', 'Average net income per household', 'Average net income per person'] saved!
2024-12-13 11:41:09,111 - my_logger - INFO - Building assortativity matrices...
2024-12-13 11:41:09,306 - my_logger - DEBUG - Encountered an error with pivot(): Index contains duplicate entries, cannot reshape
2024-12-13 11:41:09,306 - my_logger - DEBUG - Switching to pivot_table() to handle duplicates.
2024-12-13 11:41:09,308 - my_logger - INFO - Assortativity matrix created successfully!
2024-12-13 11:41:09,308 - my_logger - INFO - Assortativity matrix normalized successfully!
2024-12-13 11:41:09,309 - my_logger - INFO - Stratifying mobility data by rent...
2024-12-13 11:41:09,309 - my_logger - DEBUG - Put more thought into this, and review
2024-12-13 11:41:23,005 - my_logger - INFO - All assortativity matrices figures for Gini Index saved successfully!
